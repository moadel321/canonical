# Redis configuration for semantic caching
# Enable RDB snapshots
save 900 1
save 300 10  
save 60 10000

# Memory management
maxmemory 2gb
maxmemory-policy allkeys-lru

# Enable append-only file
appendonly yes
appendfsync everysec

# Security
requirepass canonical_cache_redis_2024

# Performance tuning
tcp-keepalive 300
timeout 0

# Logging
loglevel notice
logfile "/data/redis.log"

# Enable module loading for RediSearch (included in redis-stack)
# RediSearch is pre-loaded in redis-stack image

# Network settings
bind 0.0.0.0
protected-mode no